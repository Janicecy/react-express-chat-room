{"version":3,"sources":["store/room.js","store/user.js","store/index.js","socket.js","utils.js","components/ChatRoom/Input.jsx","components/ChatRoom/Message.jsx","components/ChatRoom/Messages.jsx","components/ChatRoom/UserList.jsx","components/ChatRoom/Room.jsx","components/ParticleBG.js","components/MainPage.jsx","App.jsx","index.js"],"names":["SET_ROOM","USER_JOIN","USER_LEAVE","NEW_MESSAGE","MESSAGE_TYPES","initialState","messages","currentUsers","reducer","state","action","type","room","author","filter","name","message","SET_USER","setUser","user","payload","rootReducer","combineReducers","persistReducer","key","storage","store","createStore","persistor","persistStore","socket","socketIOClient","on","data","eventType","dispatch","userLeave","getBase64","file","Promise","res","rej","undefined","includes","size","reader","FileReader","readAsDataURL","onload","result","onerror","err","e","useStyles","makeStyles","theme","root","height","display","alignItems","backgroundColor","justifyContent","padding","width","uploadIcon","color","fontSize","Input","props","classes","useState","inputText","setInputText","uploadImage","a","target","files","onNewMessage","content","console","log","sendText","className","htmlFor","id","onChange","accept","input","wrap","placeholder","value","style","flex","onKeyUp","event","onClick","userEventMessage","textAlign","opacity","margin","username","fontWeight","borderRadius","marginTop","flexDirection","alignSelf","maxWidth","wordBreak","time","sender","imgMessage","Message","isSender","createdAt","classNames","text","alt","src","getContent","Date","toLocaleDateString","overflow","Messages","currentUser","UserActionMessage","map","background","marginRight","position","breakpoints","down","title","owner","border","borderBottom","avatar","logout","cursor","bottom","right","UserList","useDispatch","emit","boxShadow","top","chat","mobileHeader","up","Room","useSelector","roomId","useParams","window","innerWidth","userListVisible","setUserListVisible","fetchRoom","axios","get","then","setRoom","catch","history","push","useEffect","now","nanoid","ParticleBG","options","flexWrap","section","joinRoom","errorMessage","MainPage","setRoomId","setUsername","joinError","setJoinError","creationError","setCreationError","response","error","createRoom","post","open","App","exact","path","component","render","to","createTheme","ReactDOM","StrictMode","ThemeProvider","loading","document","getElementById"],"mappings":"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","file":"static/js/main.f9f142b8.chunk.js","sourcesContent":["export const SET_ROOM = 'SET_ROOM'\r\nexport const USER_JOIN = 'USER_JOIN'\r\nexport const USER_LEAVE = 'USER_LEAVE'\r\nexport const NEW_MESSAGE = 'NEW_MESSAGE'\r\n\r\nexport const MESSAGE_TYPES = {\r\n  TEXT: 'TEXT',\r\n  IMAGE: 'IMAGE',\r\n  USER_JOIN: 'USER_JOIN',\r\n  USER_LEAVE: 'USER_LEAVE'\r\n}\r\n\r\nexport const setRoom = (room) => {\r\n  return {\r\n    type: SET_ROOM,\r\n    room\r\n  }\r\n}\r\n\r\nexport const userJoin = (author) => {\r\n  return {\r\n    type: USER_JOIN,\r\n    author\r\n  }\r\n}\r\n\r\nexport const userLeave = (author) => {\r\n  return {\r\n    type: USER_LEAVE,\r\n    author\r\n  }\r\n}\r\n\r\nexport const newMessage = (message) => {\r\n  return {\r\n    type: NEW_MESSAGE,\r\n    message\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  messages: [],\r\n  currentUsers: []\r\n}\r\nconst reducer = (state = initialState, action) => {\r\n  const { currentUsers, messages } = state\r\n  switch (action.type) {\r\n    case SET_ROOM:\r\n      return action.room\r\n    case USER_JOIN:\r\n      return {\r\n        ...state,\r\n        messages: [...messages, { type: MESSAGE_TYPES.USER_JOIN, author: action.author }],\r\n        currentUsers: [...currentUsers, action.author]\r\n      }\r\n    case USER_LEAVE:\r\n      return {\r\n        ...state,\r\n        messages: [...messages, { type: MESSAGE_TYPES.USER_LEAVE, author: action.author }],\r\n        currentUsers: currentUsers.filter(name => name !== action.author)\r\n      }\r\n    case NEW_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...messages, action.message]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer ","const SET_USER = 'SET_USER'\r\n\r\nexport const setUser = (user) => ({\r\n  type: SET_USER,\r\n  payload: user\r\n})\r\n\r\nconst reducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport room from './room'\r\nimport user from './user'\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage'\r\nimport loggerMiddleware from \"redux-logger\";\r\n\r\nconst rootReducer = combineReducers({\r\n  room,\r\n  user: persistReducer({ key: 'user', storage, }, user),\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  // applyMiddleware(loggerMiddleware)\r\n  // compose(\r\n  //   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  // )\r\n)\r\n\r\nexport const persistor = persistStore(store)\r\nexport default store ","import socketIOClient from 'socket.io-client'\r\nimport { USER_JOIN, USER_LEAVE, NEW_MESSAGE, userJoin, userLeave, newMessage } from './store/room'\r\nimport store from \"./store\";\r\n\r\nconst socket = socketIOClient('https://react-express-chat-room.herokuapp.com')\r\n\r\nsocket.on(\"chat_room\", (data) => {\r\n  switch (data.eventType) {\r\n    case USER_JOIN:\r\n      return store.dispatch(userJoin(data.payload))\r\n    case NEW_MESSAGE:\r\n      return store.dispatch(newMessage(data.payload))\r\n    case USER_LEAVE:\r\n      return store.dispatch(userLeave(data.payload))\r\n    default:\r\n      break;\r\n  }\r\n})\r\n\r\nexport default socket\r\n","export function getBase64(file) {\r\n  return new Promise((res, rej) => {\r\n    const SUPPORTED_FILE_TYPES = [\r\n      \"image/jpeg\",\r\n      \"image/png\",\r\n    ];\r\n    try {\r\n      if (file !== undefined) {\r\n        if (!SUPPORTED_FILE_TYPES.includes(file.type)) return rej('Unsported image type!')\r\n        if (file.size > 1024 * 2048) return rej('Maximum image size is 2MB!')\r\n        const reader = new FileReader(); // asynchronously read the files stored on the user's computer \r\n        reader.readAsDataURL(file); // encoded as Base 64 URL string \r\n        reader.onload = () => res(reader.result);\r\n        reader.onerror = err => rej(err)\r\n      }\r\n    }\r\n    catch (e) {\r\n      rej(e.message)\r\n    }\r\n  })\r\n}\r\n\r\n","import { makeStyles } from '@mui/styles';\r\nimport React, { useState } from 'react';\r\nimport InsertPhotoIcon from '@mui/icons-material/InsertPhoto';\r\nimport PropTypes from 'prop-types'\r\nimport { getBase64 } from '../../utils';\r\nimport { MESSAGE_TYPES } from '../../store/room';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '10%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    backgroundColor: 'var(--panel-bg)',\r\n    justifyContent: 'space-between',\r\n    padding: '0 5%',\r\n    width: '100%'\r\n  },\r\n  uploadIcon: {\r\n    color: 'grey',\r\n    fontSize: '2rem'\r\n  }\r\n}))\r\n\r\nconst Input = (props) => {\r\n  const classes = useStyles()\r\n  const [inputText, setInputText] = useState('');\r\n\r\n  const clearInput = () => setInputText('')\r\n\r\n  const uploadImage = async (e) => {\r\n    try {\r\n      const res = await getBase64(e.target.files[0])\r\n      props.onNewMessage({ type: MESSAGE_TYPES.IMAGE, content: res })\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  const sendText = () => {\r\n    if (inputText !== '') {\r\n      props.onNewMessage({ type: MESSAGE_TYPES.TEXT, content: inputText })\r\n      clearInput()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <label htmlFor='upload'>\r\n          <InsertPhotoIcon className={classes.uploadIcon} />\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          id='upload'\r\n          onChange={uploadImage}\r\n          accept=\"image/png, image/jpeg\" />\r\n      </div>\r\n      <input type='textarea'\r\n        className={classes.input}\r\n        wrap=\"soft\"\r\n        placeholder='Type a message'\r\n        onChange={(e) => setInputText(e.target.value)}\r\n        value={inputText}\r\n        style={{ flex: '0 1 50%' }}\r\n        onKeyUp={(event) => {\r\n          if (event.key === 'Enter') sendText();\r\n        }}\r\n      />\r\n      <button value='Send' onClick={sendText} style={{ flex: '0 1 20%' }}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nInput.propTypes = {\r\n  onNewMessage: PropTypes.func\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport classNames from 'classnames';\r\nimport { MESSAGE_TYPES } from '../../store/room';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  userEventMessage: {\r\n    fontSize: '0.8em',\r\n    textAlign: 'center',\r\n    opacity: 0.8,\r\n    margin: '5px auto'\r\n  },\r\n  username: {\r\n    color: '#60a3bc', fontWeight: 'bold',\r\n  },\r\n  message: {\r\n    backgroundColor: '#262d31',\r\n    borderRadius: 8,\r\n    marginTop: 10,\r\n    width: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: '5px 10px',\r\n    alignSelf: 'flex-start',\r\n    maxWidth: '50%',\r\n    wordBreak: 'break-word'\r\n  },\r\n  author: {\r\n    color: '#acacac',\r\n    fontSize: 12,\r\n    margin: '4px 0'\r\n  },\r\n  time: {\r\n    color: ' #8b8c8b',\r\n    alignSelf: 'flex-end',\r\n    marginTop: 5,\r\n    fontSize: '0.5em'\r\n  },\r\n  sender: {\r\n    backgroundColor: '#056162',\r\n    alignSelf: 'flex-end'\r\n  },\r\n  imgMessage: {\r\n    width: '100%',\r\n  }\r\n}))\r\n\r\nfunction Message({ message, isSender }) {\r\n  const classes = useStyles()\r\n  const { content, author, createdAt } = message\r\n\r\n  const getContent = () => {\r\n    switch (message.type) {\r\n      case MESSAGE_TYPES.TEXT:\r\n        return (<div className={classes.text}>{content}</div>)\r\n      case MESSAGE_TYPES.IMAGE:\r\n        return (<img alt='message' className={classes.imgMessage} src={content} />)\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n  return (\r\n    <div className={classNames(classes.message, isSender && classes.sender)}  >\r\n      <div className={classes.author}>~{author}</div>\r\n      {getContent()}\r\n      <div className={classes.time}>{new Date(createdAt).toLocaleDateString()}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message ","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@mui/styles';\r\nimport Message from './Message';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: 'black',\r\n    overflow: 'auto',\r\n    height: '90%',\r\n    color: '#fff',\r\n    padding: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  userEventMessage: {\r\n    fontSize: '0.8em',\r\n    textAlign: 'center',\r\n    opacity: 0.8,\r\n    margin: '5px auto'\r\n  },\r\n  author: {\r\n    color: '#60a3bc',\r\n    fontWeight: 'bold',\r\n  },\r\n}))\r\n\r\n\r\nconst Messages = (props) => {\r\n  const classes = useStyles()\r\n  const { messages, currentUser } = props\r\n\r\n  const UserActionMessage = ({ author, type }) => (\r\n    <div className={classes.userEventMessage}>\r\n      <span className={classes.author}>\r\n        {author}\r\n      </span>\r\n      {type === 'USER_JOIN' ? ' just joined the room 👋' : ' just left the room'}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {messages.map(message => {\r\n        const { author, type, id } = message\r\n        return ['USER_LEAVE', 'USER_JOIN'].includes(type)\r\n          ? (<UserActionMessage key={id} author={author} type={type} />)\r\n          : (<Message key={id} isSender={author === currentUser} message={message} />)\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nMessages.propTypes = {\r\n  messages: PropTypes.array,\r\n  currentUser: PropTypes.string\r\n}\r\n\r\nexport default Messages;\r\n","import { makeStyles } from '@mui/styles';\r\nimport React from 'react';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport PropTypes from 'prop-types'\r\nimport socket from '../../socket';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser } from '../../store/user';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    background: '#16161a',\r\n    flex: '0 0 25%',\r\n    marginRight: 5,\r\n    position: 'relative',\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flex: '0 0 100%',\r\n      margin: 0,\r\n      height: '94vh'\r\n    },\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    color: '#fff'\r\n  },\r\n  owner: {\r\n    color: '#048f81',\r\n    border: '1px solid#048f81',\r\n    borderRadius: 3,\r\n    height: 'auto',\r\n    padding: '2px 7px',\r\n    fontSize: 12,\r\n  },\r\n  user: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    padding: '5px 10px',\r\n    borderBottom: ' 1px solid #293136',\r\n    color: '#fff',\r\n    alignItems: 'center'\r\n  },\r\n\r\n  avatar: {\r\n    flex: '0 0 20%',\r\n    fontSize: 25\r\n  },\r\n  username: {\r\n    flex: '0 0 20%'\r\n  },\r\n  logout: {\r\n    color: '#60a3bc',\r\n    cursor: 'pointer',\r\n    position: 'absolute',\r\n    bottom: 30,\r\n    right: 30\r\n  }\r\n}))\r\n\r\nexport default function UserList({ room }) {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n\r\n  const logout = () => {\r\n    socket.emit('leave_room')\r\n    dispatch(setUser({}))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <h2 className={classes.title}>\r\n        Chat Room - <span style={{ color: 'lightblue' }}>{room.id}</span>\r\n      </h2>\r\n      {room.currentUsers.map((username) => (\r\n        <div className={classes.user} key={username}>\r\n          <AccountCircleIcon fontSize='large' className={classes.avatar} />\r\n          <span className={classes.username}>{username}</span>\r\n          <span style={{ opacity: username !== room.owner && 0 }} className={classes.owner}>Owner</span>\r\n        </div>\r\n      ))}\r\n\r\n      <div onClick={logout} className={classes.logout}>Logout</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nUserList.propTypes = {\r\n  room: PropTypes.object,\r\n  currentUser: PropTypes.string\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles'\r\nimport socket from '../../socket';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Input from './Input';\r\nimport Messages from './Messages';\r\nimport UserList from './UserList';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { setRoom } from '../../store/room';\r\nimport GroupIcon from '@mui/icons-material/Group';\r\nimport { nanoid } from 'nanoid'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    width: 'var(--width)',\r\n    margin: '0 auto',\r\n    boxShadow: \"0 1px 2px -2px rgba(0,0,0,.16), 0 3px 6px 0 rgba(0,0,0,.12), 0 5px 12px 4px rgba(0,0,0,.09)\",\r\n    height: 'var(--height)',\r\n    backgroundColor: 'var(--chat-room-bg)',\r\n    marginTop: \"2%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: '100vw',\r\n      position: 'fixed',\r\n      top: '6vh',\r\n      height: '94vh',\r\n      margin: 0,\r\n    },\r\n  },\r\n  chat: {\r\n    flex: '0 0 75%',\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flex: '0 0 100%',\r\n      margin: 0,\r\n    },\r\n  },\r\n  mobileHeader: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    width: '100%',\r\n    padding: '10px 20px',\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    backgroundColor: '#2a2f32',\r\n    alignItems: 'center',\r\n    height: '6vh',\r\n    color: '#fff',\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: 'none',\r\n    },\r\n  }\r\n}))\r\n\r\nconst Room = (props) => {\r\n  const dispatch = useDispatch()\r\n  const room = useSelector(state => state.room)\r\n  const { username } = useSelector(state => state.user)\r\n  const { messages } = room\r\n  const { roomId } = useParams()\r\n\r\n  const [userListVisible, setUserListVisible] = useState(window.innerWidth > 600);\r\n  const toggleUserList = () => setUserListVisible(!userListVisible)\r\n  const classes = useStyles(toggleUserList)\r\n\r\n  const fetchRoom = () => {\r\n    axios.get(`/api/rooms/${roomId}`)\r\n      .then(res => {\r\n        const { room } = res.data\r\n        dispatch(setRoom(room))\r\n        socket.emit('join_room', username, room.id)\r\n      })\r\n      .catch(e => props.history.push('/'))\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchRoom()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!username || !roomId) {\r\n      return props.history.push('/')\r\n    }\r\n  }, [username, roomId]);\r\n\r\n  const handleNewMessage = (message) => {\r\n    socket.emit('new_message', {\r\n      ...message,\r\n      createdAt: Date.now(),\r\n      author: username,\r\n      id: nanoid()\r\n    }, room.id)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.mobileHeader}>\r\n        <GroupIcon onClick={() => setUserListVisible(!userListVisible)} />\r\n      </div>\r\n      {userListVisible && <UserList room={room} currentUser={username} />}\r\n      <div className={classes.chat}>\r\n        <Messages messages={messages} currentUser={username} />\r\n        <Input onNewMessage={handleNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Room;\r\n","import React from 'react';\r\nimport Particles from \"react-tsparticles\";\r\n\r\nexport default function ParticleBG() {\r\n  return (\r\n    <Particles\r\n      id=\"tsparticles\"\r\n      options={{\r\n        \"autoPlay\": true,\r\n        \"background\": {\r\n          \"color\": {\r\n            \"value\": \"#232741\"\r\n          },\r\n          \"image\": \"\",\r\n          \"position\": \"\",\r\n          \"repeat\": \"\",\r\n          \"size\": \"\",\r\n          \"opacity\": 1\r\n        },\r\n        'height': '100%',\r\n        \"backgroundMask\": {\r\n          \"composite\": \"destination-out\",\r\n          \"cover\": {\r\n            \"color\": {\r\n              \"value\": \"#fff\"\r\n            },\r\n            \"opacity\": 1\r\n          },\r\n          \"enable\": false\r\n        },\r\n        \"backgroundMode\": {\r\n          \"enable\": true,\r\n          \"zIndex\": -1\r\n        },\r\n        \"detectRetina\": true,\r\n        \"fpsLimit\": 30,\r\n        \"infection\": {\r\n          \"cure\": false,\r\n          \"delay\": 0,\r\n          \"enable\": false,\r\n          \"infections\": 0,\r\n          \"stages\": []\r\n        },\r\n        \"interactivity\": {\r\n          \"detectsOn\": \"canvas\",\r\n          \"events\": {\r\n            \"onClick\": {\r\n              \"enable\": true,\r\n              \"mode\": \"repulse\"\r\n            },\r\n            \"onDiv\": {\r\n              \"selectors\": [],\r\n              \"enable\": false,\r\n              \"mode\": [],\r\n              \"type\": \"circle\"\r\n            },\r\n            \"onHover\": {\r\n              \"enable\": true,\r\n              \"mode\": \"bubble\",\r\n              \"parallax\": {\r\n                \"enable\": false,\r\n                \"force\": 2,\r\n                \"smooth\": 10\r\n              }\r\n            },\r\n            \"resize\": true\r\n          },\r\n          \"modes\": {\r\n            \"attract\": {\r\n              \"distance\": 200,\r\n              \"duration\": 0.4,\r\n              \"speed\": 1\r\n            },\r\n            \"bounce\": {\r\n              \"distance\": 200\r\n            },\r\n            \"bubble\": {\r\n              \"distance\": 250,\r\n              \"duration\": 2,\r\n              \"opacity\": 0,\r\n              \"size\": 0\r\n            },\r\n            \"connect\": {\r\n              \"distance\": 80,\r\n              \"links\": {\r\n                \"opacity\": 0.5\r\n              },\r\n              \"radius\": 60\r\n            },\r\n            \"grab\": {\r\n              \"distance\": 400,\r\n              \"links\": {\r\n                \"blink\": false,\r\n                \"consent\": false,\r\n                \"opacity\": 1\r\n              }\r\n            },\r\n            \"light\": {\r\n              \"area\": {\r\n                \"gradient\": {\r\n                  \"start\": {\r\n                    \"value\": \"#ffffff\"\r\n                  },\r\n                  \"stop\": {\r\n                    \"value\": \"#000000\"\r\n                  }\r\n                },\r\n                \"radius\": 1000\r\n              },\r\n              \"shadow\": {\r\n                \"color\": {\r\n                  \"value\": \"#000000\"\r\n                },\r\n                \"length\": 2000\r\n              }\r\n            },\r\n            \"push\": {\r\n              \"quantity\": 4\r\n            },\r\n            \"remove\": {\r\n              \"quantity\": 2\r\n            },\r\n            \"repulse\": {\r\n              \"distance\": 400,\r\n              \"duration\": 0.4,\r\n              \"speed\": 1\r\n            },\r\n            \"slow\": {\r\n              \"factor\": 3,\r\n              \"radius\": 200\r\n            },\r\n            \"trail\": {\r\n              \"delay\": 1,\r\n              \"quantity\": 1\r\n            }\r\n          }\r\n        },\r\n        \"manualParticles\": [],\r\n        \"motion\": {\r\n          \"disable\": false,\r\n          \"reduce\": {\r\n            \"factor\": 4,\r\n            \"value\": false\r\n          }\r\n        },\r\n        \"particles\": {\r\n          \"bounce\": {\r\n            \"horizontal\": {\r\n              \"random\": {\r\n                \"enable\": false,\r\n                \"minimumValue\": 0.1\r\n              },\r\n              \"value\": 1\r\n            },\r\n            \"vertical\": {\r\n              \"random\": {\r\n                \"enable\": false,\r\n                \"minimumValue\": 0.1\r\n              },\r\n              \"value\": 1\r\n            }\r\n          },\r\n          \"collisions\": {\r\n            \"bounce\": {\r\n              \"horizontal\": {\r\n                \"random\": {\r\n                  \"enable\": false,\r\n                  \"minimumValue\": 0.1\r\n                },\r\n                \"value\": 1\r\n              },\r\n              \"vertical\": {\r\n                \"random\": {\r\n                  \"enable\": false,\r\n                  \"minimumValue\": 0.1\r\n                },\r\n                \"value\": 1\r\n              }\r\n            },\r\n            \"enable\": false,\r\n            \"mode\": \"bounce\"\r\n          },\r\n          \"color\": {\r\n            \"value\": \"#ffffff\",\r\n            \"animation\": {\r\n              \"enable\": false,\r\n              \"speed\": 1,\r\n              \"sync\": true\r\n            }\r\n          },\r\n          \"life\": {\r\n            \"count\": 0,\r\n            \"delay\": {\r\n              \"random\": {\r\n                \"enable\": false,\r\n                \"minimumValue\": 0\r\n              },\r\n              \"value\": 0,\r\n              \"sync\": false\r\n            },\r\n            \"duration\": {\r\n              \"random\": {\r\n                \"enable\": false,\r\n                \"minimumValue\": 0.0001\r\n              },\r\n              \"value\": 0,\r\n              \"sync\": false\r\n            }\r\n          },\r\n          \"links\": {\r\n            \"blink\": false,\r\n            \"color\": {\r\n              \"value\": \"#ffffff\"\r\n            },\r\n            \"consent\": false,\r\n            \"distance\": 150,\r\n            \"enable\": false,\r\n            \"frequency\": 1,\r\n            \"opacity\": 0.4,\r\n            \"shadow\": {\r\n              \"blur\": 5,\r\n              \"color\": {\r\n                \"value\": \"#00ff00\"\r\n              },\r\n              \"enable\": false\r\n            },\r\n            \"triangles\": {\r\n              \"enable\": false,\r\n              \"frequency\": 1\r\n            },\r\n            \"width\": 1,\r\n            \"warp\": false\r\n          },\r\n          \"move\": {\r\n            \"angle\": {\r\n              \"offset\": 45,\r\n              \"value\": 90\r\n            },\r\n            \"attract\": {\r\n              \"enable\": false,\r\n              \"rotate\": {\r\n                \"x\": 600,\r\n                \"y\": 600\r\n              }\r\n            },\r\n            \"direction\": \"none\",\r\n            \"distance\": 0,\r\n            \"enable\": true,\r\n            \"gravity\": {\r\n              \"acceleration\": 9.81,\r\n              \"enable\": false,\r\n              \"maxSpeed\": 50\r\n            },\r\n            \"noise\": {\r\n              \"delay\": {\r\n                \"random\": {\r\n                  \"enable\": false,\r\n                  \"minimumValue\": 0\r\n                },\r\n                \"value\": 0\r\n              },\r\n              \"enable\": false\r\n            },\r\n            \"outModes\": {\r\n              \"default\": \"out\",\r\n              \"bottom\": \"out\",\r\n              \"left\": \"out\",\r\n              \"right\": \"out\",\r\n              \"top\": \"out\"\r\n            },\r\n            \"random\": true,\r\n            \"size\": false,\r\n            \"speed\": 1,\r\n            \"straight\": false,\r\n            \"trail\": {\r\n              \"enable\": false,\r\n              \"length\": 10,\r\n              \"fillColor\": {\r\n                \"value\": \"#000000\"\r\n              }\r\n            },\r\n            \"vibrate\": false,\r\n            \"warp\": false\r\n          },\r\n          \"number\": {\r\n            \"density\": {\r\n              \"enable\": true,\r\n              \"area\": 800,\r\n              \"factor\": 1000\r\n            },\r\n            \"limit\": 0,\r\n            \"value\": 160\r\n          },\r\n          \"opacity\": {\r\n            \"random\": {\r\n              \"enable\": true,\r\n              \"minimumValue\": 0.1\r\n            },\r\n            \"value\": 1,\r\n            \"animation\": {\r\n              \"enable\": true,\r\n              \"minimumValue\": 0,\r\n              \"speed\": 1,\r\n              \"sync\": false\r\n            }\r\n          },\r\n          \"reduceDuplicates\": false,\r\n          \"rotate\": {\r\n            \"random\": {\r\n              \"enable\": false,\r\n              \"minimumValue\": 0\r\n            },\r\n            \"value\": 0,\r\n            \"animation\": {\r\n              \"enable\": false,\r\n              \"speed\": 0,\r\n              \"sync\": false\r\n            },\r\n            \"direction\": \"clockwise\",\r\n            \"path\": false\r\n          },\r\n          \"shadow\": {\r\n            \"blur\": 0,\r\n            \"color\": {\r\n              \"value\": \"#000000\"\r\n            },\r\n            \"enable\": false,\r\n            \"offset\": {\r\n              \"x\": 0,\r\n              \"y\": 0\r\n            }\r\n          },\r\n          \"shape\": {\r\n            \"options\": {\r\n              \"polygon\": {\r\n                \"nb_sides\": 5\r\n              },\r\n              \"star\": {\r\n                \"nb_sides\": 5\r\n              },\r\n              \"image\": {\r\n                \"src\": \"https://cdn.matteobruni.it/images/particles/github.svg\",\r\n                \"width\": 100,\r\n                \"height\": 100\r\n              },\r\n              \"images\": {\r\n                \"src\": \"https://cdn.matteobruni.it/images/particles/github.svg\",\r\n                \"width\": 100,\r\n                \"height\": 100\r\n              }\r\n            },\r\n            \"type\": \"circle\"\r\n          },\r\n          \"size\": {\r\n            \"random\": {\r\n              \"enable\": true,\r\n              \"minimumValue\": 1\r\n            },\r\n            \"value\": 3,\r\n            \"animation\": {\r\n              \"destroy\": \"none\",\r\n              \"enable\": false,\r\n              \"minimumValue\": 0.3,\r\n              \"speed\": 4,\r\n              \"startValue\": \"max\",\r\n              \"sync\": false\r\n            }\r\n          },\r\n          \"stroke\": {\r\n            \"width\": 0,\r\n            \"color\": {\r\n              \"value\": \"#000000\",\r\n              \"animation\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"sync\": true\r\n              }\r\n            }\r\n          },\r\n          \"twinkle\": {\r\n            \"lines\": {\r\n              \"enable\": false,\r\n              \"frequency\": 0.05,\r\n              \"opacity\": 1\r\n            },\r\n            \"particles\": {\r\n              \"enable\": false,\r\n              \"frequency\": 0.05,\r\n              \"opacity\": 1\r\n            }\r\n          }\r\n        },\r\n        \"pauseOnBlur\": true,\r\n        \"pauseOnOutsideViewport\": false,\r\n        \"themes\": []\r\n      }}\r\n    />\r\n  )\r\n}  ","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport ParticleBG from './ParticleBG'\r\nimport { makeStyles } from '@mui/styles'\r\nimport classNames from 'classnames';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser } from '../store/user';\r\nimport GitHubIcon from '@mui/icons-material/GitHub';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: '100vh',\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    width: '100vw',\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexWrap: 'wrap',\r\n      justifyContent: 'center'\r\n    },\r\n  },\r\n  section: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    flex: '0 1 50%',\r\n    justifyContent: 'center',\r\n    fontSize: 30,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flex: '0 1 100%',\r\n      height: '50vh',\r\n      fontSize: 20,\r\n    },\r\n    \"& > *\": {\r\n      marginTop: 20\r\n    }\r\n  },\r\n  joinRoom: {\r\n    backgroundColor: 'black',\r\n    boxShadow: '10px 0px 40px white'\r\n  },\r\n  errorMessage: {\r\n    color: '#ff0033',\r\n    fontWeight: 'bold',\r\n    margin: '10px auto',\r\n    fontSize: '1rem'\r\n  }\r\n}))\r\n\r\nconst MainPage = (props) => {\r\n  const classes = useStyles()\r\n  const [roomId, setRoomId] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [joinError, setJoinError] = useState(\"\")\r\n  const [creationError, setCreationError] = useState(\"\")\r\n  const dispatch = useDispatch()\r\n\r\n  const joinRoom = async () => {\r\n    if (username === \"\" || roomId === '') {\r\n      return setJoinError('room id or username can not be empty')\r\n    }\r\n    try {\r\n      const { data: { room } } = await axios.get(`/api/rooms/${roomId}`)\r\n      if (room.currentUsers.includes(username)) {\r\n        setJoinError('Username has been taken.')\r\n      } else {\r\n        dispatch(setUser({ username }))\r\n        props.history.push(`/room/${room.id}`)\r\n      }\r\n    } catch (e) {\r\n      setJoinError(e.response.data.error)\r\n    }\r\n  }\r\n\r\n  const createRoom = async () => {\r\n    if (!username) {\r\n      return setCreationError('Username can not be empty')\r\n    }\r\n    try {\r\n      const { data: { room } } = await axios.post(`/api/rooms`, { owner: username })\r\n      dispatch(setUser({ username }))\r\n      props.history.push(`/room/${room.id}`)\r\n    } catch (e) {\r\n      setCreationError(e.response.data.error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <GitHubIcon className='githubIcon'\r\n        onClick={() => window.open('https://github.com/JANICECY/react-express-chat-room')}\r\n      />\r\n      <div className={classes.section}>\r\n        <label>\r\n          Create a new room\r\n          <span>🤓</span>\r\n        </label>\r\n        <input\r\n          value={username}\r\n          placeholder='Username'\r\n          onChange={e => setUsername(e.target.value)}\r\n        />\r\n        <button onClick={createRoom}>Create</button>\r\n        <span className={classes.errorMessage} >\r\n          {creationError}\r\n        </span>\r\n      </div>\r\n      <div className={classNames(classes.section, classes.joinRoom)}>\r\n        <ParticleBG />\r\n        <label>\r\n          Join a private room\r\n          <span>🧐</span>\r\n        </label>\r\n        <input\r\n          value={roomId}\r\n          placeholder='Room ID'\r\n          onChange={e => setRoomId(e.target.value)}\r\n        />\r\n        <input\r\n          value={username}\r\n          placeholder='Username'\r\n          onChange={e => setUsername(e.target.value)}\r\n        />\r\n        <button onClick={joinRoom}>Join</button>\r\n        <span className={classes.errorMessage}>\r\n          {joinError}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainPage","import React from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\r\nimport { Room } from './components/ChatRoom'\r\nimport MainPage from './components/MainPage'\r\n\r\nexport default function App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path='/' component={MainPage} />\r\n        <Route exact path='/room/:roomId' component={Room} />\r\n        <Route render={() => <Redirect to=\"/\" />} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { ThemeProvider } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport { Provider } from 'react-redux'\r\nimport store, { persistor } from './store'\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport App from './App';\r\n\r\nconst theme = createTheme();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <PersistGate persistor={persistor} loading={null}>\r\n          <App />\r\n        </PersistGate>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}